<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{DEVICE_NAME}} Control</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <main>
        <header>
            <h1>{{DEVICE_NAME}}</h1>
            <div class="status">{{STATUS}}</div>
        </header>

        <section class="effects">
            <h2>Battle Effects</h2>
            {{EFFECT_BUTTONS}}
        </section>

        <section class="controls">
            <div class="control">
                <label for="brightness">üîÜ Brightness</label>
                <input type="range" id="brightness" min="0" max="255" value="{{BRIGHTNESS}}" oninput="setBrightness(this.value)">
                <span id="brightness-value">{{BRIGHTNESS}}</span>
            </div>
            
            <div class="control">
                <label for="volume">üîä Volume</label>
                <input type="range" id="volume" min="0" max="30" value="{{VOLUME}}" oninput="setVolume(this.value)">
                <span id="volume-value">{{VOLUME}}</span>
            </div>
        </section>

        <nav>
            <a href="/config">‚öôÔ∏è Configuration</a>
            <a href="/status">üìä Status</a>
        </nav>
    </main>

    <script>
        function triggerEffect(type, effect) {
            fetch('/effect/' + type + '/' + effect)
                .catch(e => console.log('Effect trigger failed:', e));
        }
        
        function setBrightness(value) {
            document.getElementById('brightness-value').textContent = value;
            fetch('/brightness/' + value)
                .catch(e => console.log('Brightness failed:', e));
        }
        
        function setVolume(value) {
            document.getElementById('volume-value').textContent = value;
            fetch('/volume/' + value)
                .catch(e => console.log('Volume failed:', e));
        }
    </script>
</body>
</html>